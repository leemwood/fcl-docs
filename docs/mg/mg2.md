---
sidebar_position: 1
title: mg配置详解2
---
### 一、 基础性能与兼容性设置

| 选项大类 | 细分选项 | 功能与原理 | 适用设备/场景 | 风险与注意事项 |
|---------|---------|-----------|-------------|---------------|
| **最大GLSL缓存大小** | 自定义数值<br />（如4096MB） | **缓存编译后的光影着色器**。数值越大，切换或加载光影时复用缓存概率越高，**减少重复编译导致的卡顿**。 | 内存充足（≥6GB）、频繁切换/测试光影。 | 占用**Java堆内存**，设置过高易导致游戏内存不足崩溃。建议设为总可用内存的1/4。 |
| | -1（禁用缓存） | 不缓存着色器，每次均重新编译。 | 内存极低（≤4GB）或排查着色器编译问题。 | 加载光影极慢，每次进入世界都会有长时间卡顿。 |
| **OpenGL报错处理** | 自动 | 运行时根据情况动态选择忽略或记录错误。 | 新手用户、不确定兼容性时。 | 可能掩盖轻微渲染错误，不利于问题排查。 |
| | 不忽略报错（严格） | 严格校验指令，任何错误都会记录并可能中断渲染。 | **调试专用**，用于精确排查光影/Mod的兼容性问题。 | 大幅增加CPU开销，导致帧率显著下降。 |
| | 忽略Shader/Program等报错 | 跳过着色器编译、链接等阶段的非致命错误。 | 运行有轻微代码瑕疵的“魔改”光影包时。 | 游戏可能继续运行，但**出现局部画面异常**（水反失效、天空错误）。 |

### 二、 驱动与渲染接口设置（核心）

| 选项大类 | 细分选项 | 功能与原理 | 适用设备/场景 | 风险与注意事项 | 关键相互影响与依赖 |
|---------|---------|-----------|-------------|---------------|------------------|
| **ANGLE驱动模式** | 尽可能不启用 | **优先使用设备原生OpenGL ES驱动**。仅在原生驱动不兼容时才尝试ANGLE。 | 原生驱动良好（如近年旗舰芯片）、运行无光影或低版本游戏（1.12.2）。 | **无法使用需要ANGLE转译的高级特性**（如计算着色器）。高版本光影可能直接闪退。 | 1. **决定高级特性上限**：此模式下，`自定义OpenGL版本`通常无法设高。<br />2. `ANGLE Depth Clear修复方案`无效. |
| | 尽可能启用<br />（推荐） | **平衡模式**。优先尝试ANGLE以获得更好兼容性，若原生驱动更优则自动回退。 | 绝大多数设备、希望兼顾兼容与性能的通用场景。 | ANGLE转译层带来**3-10%性能损耗**。 | 1. 为使用`自定义OpenGL版本`（4.3+）和`计算着色器`扩展提供了可能。<br />2. 使`ANGLE Depth Clear修复方案`可生效。 |
| | 启用（强制） | **强制使用ANGLE转译层**，将桌面OpenGL指令转换为移动端OpenGL ES。 | 必须运行**依赖计算着色器**的光影（如SEUS PTGI）、或使用Create等高级渲染Mod。 | **必须搭配较高的`自定义OpenGL版本`（通常≥4.3）**，否则无法工作或效果差。 | **是开启一系列高级特性的基石**：所有高级扩展和方案均依赖于此模式。 |
| **自定义目标<br />OpenGL版本** | 不启用 | 使用设备原生/ANGLE报告的最高版本。 | 追求原生稳定、纯生存无光影。 | 可能无法满足高版本光影/Mod的需求。 | **此选项是“钥匙”**：决定哪些高级扩展和MultiDraw方案可用。 |
| | OpenGL 4.6 / 4.5 | 向游戏报告最高版本，**解锁全部高级渲染特性**（路径追踪、复杂粒子等）。 | 顶配设备（骁龙8Gen2/天玑9300+），追求极限画质。 | 对GPU和驱动要求极高，硬件不支持会导致崩溃或极低帧率。 | 开启此版本是使用`direct_state_access扩展`和`MultiDraw Indirect方案`的**前提**。 |
| | OpenGL 4.4 / 4.3 | **主流高版本**，支持绝大多数现代光影（BSL, Complementary）。 | 中高配设备，平衡画质与流畅度。 | 部分极端光影（如PTGI）仍需4.5+。 | 是启用`ARB_compute_shader扩展`和`MultiDraw Compute方案`的**最低要求**。 |
| | OpenGL 4.2及以下 | 报告低版本，关闭高级特性，优先保证稳定。 | 低配设备、运行老旧整合包（1.12.2及以下）。 | 无法运行任何现代光影。 | 所有高级扩展和方案均无法启用。 |

### 三、 高级渲染与优化方案

| 选项大类 | 细分选项 | 功能与原理 | 适用设备/场景 | 风险与注意事项 | 关键相互影响与依赖 |
|---------|---------|-----------|-------------|---------------|------------------|
| **MultiDraw优化方案** | 自动 | 自动检测驱动和GL版本，选择“能用”的方案。 | 默认选择，不求最优但求稳定。 | 不一定是最佳性能方案。 | 其可选范围受`OpenGL版本`和`ANGLE驱动`共同制约。 |
| | Indirect / BaseVertex / Compute | **提升渲染效率**，通过合并绘制调用（Draw Calls）来减轻CPU负担，对复杂场景帧率提升关键。 | 中低配设备、大型整合包、生电大型基地。 | 需要特定`OpenGL版本`和稳定驱动支持。 | 1. **Indirect**：需要OpenGL 4.3+。<br />2. **BaseVertex**：兼容性最好。<br />3. **Compute（实验性）**：性能最强，但**强制依赖**：OpenGL 4.3+ + ANGLE启用 + ARB_compute_shader扩展。 |
| **ANGLE深度缓冲修复** | 启用方案#1 | 修复ANGLE驱动下可能出现的**深度缓冲清除异常**，解决区块黑边、光影断层、天空渲染错误。 | **开启ANGLE后出现画面异常**的设备。 | **仅在ANGLE启用时生效**，会带来轻微性能损耗。 | **强依赖**：必须已启用`ANGLE驱动`。 |

### 四、 扩展与实验性功能

| 选项大类 | 细分选项 | 功能与原理 | 适用设备/场景 | 风险与注意事项 | 关键相互影响与依赖 |
|---------|---------|-----------|-------------|---------------|------------------|
| **启用不完整的<br />OpenGL43扩展** | 开启 | **“骗过”游戏**，让其在OpenGL 4.2环境下也能尝试使用4.3的部分特性。 | 设备原生版本为4.2，但想尝试运行需要4.3特性的光影时（**最后手段**）。 | **稳定性差**，属于软件模拟，易导致渲染错误或闪退。 | 需`自定义OpenGL版本`≥4.2。常与`ARB_compute_shader扩展`一同开启。 |
| **启用ARB_compute_shader扩展** | 开启 | **启用计算着色器支持**。这是运行**路径追踪光影、复杂体积效果**的**硬性要求**。 | 运行SEUS PTGI、Continuum RT等需要硬件计算的光影。 | **强制依赖**：`OpenGL 4.3+` + `ANGLE驱动启用`。低配设备开启后帧率可能暴跌。 | 是`MultiDraw Compute方案`和所有路径追踪光影运行的**核心依赖**。 |
| **启用direct_state_access扩展** | 开启 | 优化GPU状态切换，**降低CPU开销**，提升大型场景（基地、红石）帧率。 | 建造党、生电玩家，场景内实体/方块极多时。 | 需要`OpenGL 4.5+`版本支持，低版本开启无效。 | **强依赖**：`自定义OpenGL版本` ≥ 4.5。 |
| **（实验性）启用内置FSR1** | 开启 | **空间超分锐化**。以较低分辨率渲染，再放大并锐化输出，**以轻微画质损失换取性能提升**。 | 低配设备在较高分辨率下帧数不足时。 | 属于后处理，**可能导致画面过度锐利、闪烁或细节模糊**。 | 相对独立，但可能与某些光影的后处理效果冲突。 |
